<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TTRP - Manage a fight</title>
    <link href="jquery-ui.structure.css" rel="stylesheet"/>
<link href="jquery-ui.theme.css" rel="stylesheet"/>
<link href="bootstrap.css" rel="stylesheet"/>
<link href="toastr.css" rel="stylesheet"/>
<link href="Manage.css" rel="stylesheet"/>
    <link href="FontAwesome/css/font-awesome.min.css" rel="stylesheet"/>


</head>
<body>

<div>
  <button type="button" class="btn btn-primary" data-bind="click: addCharacter, clickBubble: false">Add Character</button>
</div>

<div style="display: table; clear:both;">
<ul data-bind="foreach: characters" class="listOfCharacters">
    <li>
        <div>
                <div style="float: left;">
                    <!-- <button class="btn btn-danger" data-bind="visible: !$root.IsCurrentCharacter(RankInCombatOrder) && !$data.OutOfCombat(), click: function () {$data.TakeOut(); }, attr: {title: 'remove ' + Name() + ' from combat'}">X</button> -->
                    <span data-bind="text: name"></span>
                </div>
                <div style="float: right;">
                    <!-- <i title="already delayed in current round" data-bind="visible: HasDelayedCurrentRound" class="fa fa-clock-o"></i>
                    <i title="readied an action" data-bind="visible: HasReadiedCurrentRound" class="fa fa-exclamation-triangle"></i> -->
                    <i title="out of combat" data-bind="visible: outOfCombat" class="fa fa-times"></i>
                </div>
                <div style="clear: both;"></div>
            </div>
    </li>
</ul>
</div>

<hr/>

<div data-bind="with: characterForEditing">
    <form class="form-horizontal">
      <div class="control-group">
        <label class="control-label" for="characterName">Name</label>
        <div class="controls">
            <input type="text" id="characterName" data-bind="value: name" />
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="characterRank">Price</label>
        <div class="controls">
            <input type="number" step="1" id="characterRank" data-bind="value: rankInCombat" />
        </div>
      </div>
      <div class="control-group">
        <div class="controls">
          <button class="btn" data-bind="click: $parent.acceptCharacter">Accept</button>
          <button class="btn" data-bind="click: $parent.revertCharacter">Cancel</button>
        </div>
      </div>
    </form>
</div>


<div data-bind="with: effectForEditing">
    <form class="form-horizontal">
      <div class="control-group">
        <label class="control-label" for="itemName">Name</label>
        <div class="controls">
            <input type="text" id="itemName" data-bind="value: name" />
        </div>
      </div>
      <div class="control-group">
        <label class="control-label" for="itemPrice">Price</label>
        <div class="controls">
            <input type="number" step="1" id="itemPrice" data-bind="value: price" />
        </div>
      </div>
      <div class="control-group">
        <div class="controls">
          <button class="btn" data-bind="click: $parent.acceptEffect">Accept</button>
          <button class="btn" data-bind="click: $parent.revertEffect">Cancel</button>
        </div>
      </div>
    </form>
</div>

<script src="jquery-1.10.2.js"></script>
<script src="jquery-ui.js"></script>
<script src="jquery.touch-punch.js"></script>
<script src="toastr.js"></script>

    <script src="bootstrap.js"></script>
<script src="respond.js"></script>

    
    <script src="Knockout.js"></script>
<script src="Knockout.mapping.js"></script>
<script src="Knockout.customBindings.js"></script>
<script src="BaseViewModel.js"></script>
<script>
  var viewModel = new FightModel({
    currentRound: 1,
    characters: [{name: 'Alpha', rankInCombat: 1}, {name: 'Beta', rankInCombat: 2}, {name: 'Gamma', rankInCombat: 3}],
    effects: []
  });
  ko.applyBindings(viewModel);
</script>
</body>